---
layout: post
title: 如何停止线程
categories: Java Android
description: 描述了java中线程如何停止并给出Android中线程停止的方法
keywords: 线程, 停止
---

&emsp;&emsp;如何正确地停止线程在java多线程开发中是一个重要的技术点，处理不当的话会带来各种异常结果。


#### 线程定义
先看线程定义，线程是现代操作系统调度的最小单元，也叫轻量级进程。一个进程至少有一个线程，也可以创建多个线程，这些线程可以共享进程所拥有的资源
java中停止线程总体来说有四种方法
* run方法自行运行结束退出
* 标志位 
* 线程的interrupt方法
* 线程stop方法
第四种stop方法在jdk1.2中已经被标明过期、作废的方法，因为stop强制停止线程，会带来数据不一致性的问题，所以一般情况下不使用stop方法。第一种“run自行运行结束退出”，这不是程序员主动停止的方式，而是线程自有的特性，因此，可以回答停止线程只有2种方法：标志位和interrupt，这两种情况都是需要控制程序流程的，是一种主动行为。当然，如果非要纠结，这2种方法最后都会在run运行结束后自行退出线程，这也就回归到了第一种方法，但这样说也没有什么意义，正常开发过程中，还是要用到主动停止的行为。


##### run方法自行运行结束退出
``` java 
	@Override
	public void run() {
		doSomething();
	}
```
run方法执行完任务后自动退出，这没什么可说的，就像普通方法一样，任务执行完成就退出了。但大多数情况下，需要主动停止线程，这就要用其他技术实现。


##### 线程interrupt方法


##### 标志位
``` java 
	@Override
	public void run() {
		while(isRun) {
			doSomething();
		}		
	}
```
假如线程中有一个循环语句，当isRun为true时运行，为false时退出循环，如果循环后面也没有其他循环语句，退出循环后自行运行结束，线程停止。


##### 线程stop方法




